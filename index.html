<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>25-26 Hakuba Trip</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f7f9; color: #2c3e50; margin: 0; }
        .glass-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.5); }
        .tab-active { color: #3b82f6; background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .content-container { margin-top: -50px; border-top-left-radius: 40px; border-top-right-radius: 40px; position: relative; z-index: 10; background: #f3f7f9; min-height: 100vh; }
        
        .nav-btn {
            background: #4285F4;
            color: white;
            padding: 10px 22px;
            border-radius: 25px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(66, 133, 244, 0.3);
            font-size: 14px;
            transition: all 0.2s;
        }
        .nav-btn:active { transform: scale(0.95); opacity: 0.9; }

        .timeline-connector {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 4px 0;
        }
        .dot-line {
            width: 2px;
            height: 24px;
            background: repeating-linear-gradient(to bottom, #cbd5e1 0, #cbd5e1 4px, transparent 4px, transparent 8px);
        }
    </style>
</head>
<body class="pb-20">

<div id="app">
    <!-- Header -->
    <header class="relative w-full h-[240px] overflow-hidden">
        <img src="HAKUBA.jpg" alt="Hakuba" class="w-full h-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1551641506-ee5bf4cb45f1?auto=format&fit=crop&q=80&w=1000'">
        <div class="absolute bottom-16 right-6 flex space-x-3">
            <button @click="currentTab = 'schedule'" :class="currentTab === 'schedule' ? 'tab-active' : 'bg-white/40'" class="p-3 rounded-full transition-all">
                <i data-lucide="calendar" class="w-6 h-6"></i>
            </button>
            <button @click="currentTab = 'info'" :class="currentTab === 'info' ? 'tab-active' : 'bg-white/40'" class="p-3 rounded-full transition-all">
                <i data-lucide="info" class="w-6 h-6"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="content-container px-5 pt-10">
        
        <!-- Tab: Schedule -->
        <div v-if="currentTab === 'schedule'" class="animate-slide-up">
            <!-- Date Slider -->
            <div class="flex overflow-x-auto hide-scrollbar space-x-3 mb-8 px-1">
                <div v-for="(day, index) in schedule" :key="index" 
                     @click="selectedDayIndex = index"
                     :class="selectedDayIndex === index ? 'bg-blue-600 text-white scale-105 shadow-lg' : 'bg-white text-gray-400'"
                     class="flex-shrink-0 flex flex-col items-center justify-center w-20 h-24 rounded-3xl transition-all cursor-pointer">
                    <span class="text-[10px] font-bold uppercase opacity-70">Day {{index + 1}}</span>
                    <span class="text-xl font-black">{{day.date}}</span>
                </div>
            </div>

            <!-- List of Items -->
            <div class="space-y-0">
                <div v-for="(item, idx) in schedule[selectedDayIndex].items" :key="item.id">
                    
                    <!-- 交通時間顯示 (僅在非第一項且有定義交通起點時顯示，或是依照您的邏輯在每個行程上端顯示) -->
                    <div v-if="item.travelTime" class="timeline-connector">
                        <div class="dot-line"></div>
                        <div class="flex items-center bg-white border border-gray-100 px-4 py-2 rounded-full shadow-sm my-2">
                            <i data-lucide="car" class="w-4 h-4 text-blue-500 mr-2"></i>
                            <span class="text-xs font-bold text-gray-500">{{ item.travelTime }}</span>
                        </div>
                        <div class="dot-line"></div>
                    </div>

                    <!-- 行程卡片 -->
                    <div class="glass-card rounded-[35px] p-7 shadow-sm mb-4">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <span class="text-[10px] font-black text-blue-500 uppercase tracking-tighter">{{item.tag}}</span>
                                <h4 class="font-bold text-xl text-gray-800 mt-1">{{item.title}}</h4>
                            </div>
                            <!-- 導航按鈕 -->
                            <a v-if="item.mapUrl" :href="item.mapUrl" target="_blank" class="nav-btn">
                                <i data-lucide="navigation" class="w-4 h-4"></i> 導航
                            </a>
                        </div>
                        <p class="text-sm text-gray-500 leading-relaxed">{{item.note}}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Info -->
        <div v-if="currentTab === 'info'" class="space-y-10 animate-slide-up pb-10">
            <!-- Lodging -->
            <section>
                <div class="flex items-center mb-6 px-2">
                    <i data-lucide="home" class="w-6 h-6 mr-3 text-emerald-500"></i>
                    <h2 class="text-2xl font-black">住宿資訊</h2>
                </div>
                <div class="glass-card rounded-[35px] p-8 border-l-8 border-emerald-400 shadow-lg">
                    <h3 class="font-bold text-2xl mb-4">雪ノ音 (Yuki no Oto)</h3>
                    <div class="space-y-4 text-sm text-gray-600">
                        <div class="flex items-start">
                            <i data-lucide="map-pin" class="w-5 h-5 mr-3 text-gray-300 shrink-0"></i>
                            <p>〒399-9211 長野県北安曇郡白馬村神城1102-1</p>
                        </div>
                        <div class="flex items-center">
                            <i data-lucide="phone" class="w-5 h-5 mr-3 text-gray-300"></i>
                            <p>080-6862-0930</p>
                        </div>
                    </div>
                    <a href="https://maps.app.goo.gl/QCCSYTBMsZ1gu51J7" target="_blank" class="mt-8 nav-btn w-full justify-center py-5">
                        <i data-lucide="navigation" class="w-5 h-5"></i> 導航至民宿
                    </a>
                </div>
            </section>

            <!-- Slope Maps -->
            <section>
                <div class="flex items-center mb-6 px-2">
                    <i data-lucide="map" class="w-6 h-6 mr-3 text-orange-400"></i>
                    <h2 class="text-2xl font-black">雪場地圖庫</h2>
                </div>
                <div class="grid grid-cols-1 gap-4">
                    <div v-for="map in slopeMaps" class="glass-card p-5 rounded-3xl flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="bg-orange-50 p-2 rounded-xl mr-4 text-orange-400">
                                <i data-lucide="map" class="w-5 h-5"></i>
                            </div>
                            <span class="font-bold text-gray-700">{{map.name}}</span>
                        </div>
                        <span class="text-[10px] text-gray-400 font-bold uppercase">Stored in Docs</span>
                    </div>
                </div>
            </section>
        </div>
    </main>
</div>

<script>
const { createApp, ref, onMounted, updated } = Vue;

createApp({
    setup() {
        const currentTab = ref('schedule');
        const selectedDayIndex = ref(0);

        const slopeMaps = [
            { name: '栂池高原滑雪場' },
            { name: '岩岳滑雪場' },
            { name: '八方尾根滑雪場' },
            { name: '五龍 & Hakuba 47' },
            { name: '白馬 Cortina' },
            { name: 'Sanosaka 滑雪場' }
        ];

        // 每日行程與導航連結，交通時間根據地點估算
        const schedule = ref([
            { date: '12/27', items: [{ id:1, title:'民宿 雪ノ音 Check-in', tag:'DAY 1 交通', travelTime: '成田機場 → 白馬 約 4h 30m', note:'首日長途駕車，建議在服務區稍作休息。', mapUrl:'https://maps.app.goo.gl/QCCSYTBMsZ1gu51J7' }] },
            { date: '12/28', items: [{ id:2, title:'栂池高原滑雪場', tag:'DAY 2 滑雪', travelTime: '雪ノ音 → 栂池 約 15m', note:'白馬地區最寬闊緩坡，適合首日暖身。', mapUrl:'https://maps.app.goo.gl/Pt9id5Dv9Lctw8dc9' }] },
            { date: '12/29', items: [{ id:3, title:'岩岳滑雪場', tag:'DAY 3 滑雪', travelTime: '雪ノ音 → 岩岳 約 12m', note:'景觀極佳，推薦前往山頂 HAKUBA MOUNTAIN HARBOR。', mapUrl:'https://maps.app.goo.gl/WgA8uVeC2vtphE2r6' }] },
            { date: '12/30', items: [{ id:4, title:'八方尾根滑雪場', tag:'DAY 4 滑雪', travelTime: '雪ノ音 → 八方尾根 約 8m', note:'國際知名的競賽級雪場，挑戰垂直落差。', mapUrl:'https://maps.app.goo.gl/wdyAsnXxHfVe758k8' }] },
            { date: '12/31', items: [{ id:5, title:'八方尾根滑雪場', tag:'DAY 5 滑雪', travelTime: '雪ノ音 → 八方尾根 約 8m', note:'跨年日滑雪，可關注村內煙火活動。', mapUrl:'https://maps.app.goo.gl/wdyAsnXxHfVe758k8' }] },
            { date: '01/01', items: [{ id:6, title:'戶隱神社', tag:'DAY 6 文化', travelTime: '白馬 → 戶隱 約 1h 10m', note:'新年首禱，欣賞神聖的巨木參道。', mapUrl:'https://maps.app.goo.gl/CsefRdxMCQxMoagT9' }] },
            { date: '01/02', items: [{ id:7, title:'白馬 Cortina 國際滑雪場', tag:'DAY 7 滑雪', travelTime: '雪ノ音 → Cortina 約 25m', note:'以優質粉雪著稱，適合樹林滑行愛好者。', mapUrl:'https://maps.app.goo.gl/aCUvXUJWiHbzy7gQA' }] },
            { date: '01/03', items: [{ id:8, title:'白馬 Sanosaka 滑雪場', tag:'DAY 8 滑雪', travelTime: '雪ノ音 → Sanosaka 約 10m', note:'可以俯瞰青木湖的寧靜雪場。', mapUrl:'https://maps.app.goo.gl/95KNKrEuZ2o2TpAY6' }] },
            { date: '01/04', items: [{ id:9, title:'白馬五竜滑雪場', tag:'DAY 9 滑雪', travelTime: '雪ノ音 → 五竜 約 5m', note:'與 Hakuba 47 共通，雪道變化豐富。', mapUrl:'https://maps.app.goo.gl/z3o2GnS7CmCjcQjf8' }] },
            { date: '01/05', items: [{ id:10, title:'松本城', tag:'DAY 10 文化', travelTime: '白馬 → 松本 約 1h 20m', note:'參觀日本現存最古老的五重六階天守。', mapUrl:'https://maps.app.goo.gl/kdast41spPP7gX1k8' }] },
            { date: '01/06', items: [{ id:11, title:'舊輕井澤銀座通', tag:'DAY 11 購物', travelTime: '白馬 → 輕井澤 約 2h', note:'最後的採買與午餐，準備前往機場返家。', mapUrl:'https://maps.app.goo.gl/UkAUa1N664H5HKbD7' }] }
        ]);

        onMounted(() => { lucide.createIcons(); });
        updated(() => { lucide.createIcons(); });

        return { currentTab, selectedDayIndex, schedule, slopeMaps };
    }
}).mount('#app');
</script>
</body>
</html>
